## Тестовое задание. Платежные транзакции с помощью Stripe.

### Запуск для тестирования:
1. Получаем API-ключи в личном кабинете Stripe: https://dashboard.stripe.com/apikeys
2. Клонируем репозиторий GIT:
   #### `git clone https://github.com/aquaman0/.git`
3. Переходим в папку проекта, устанавливаем и активируем виртуальное окружение:
   #### `cd /YOUR_DIRECTORY/mystripe`
   #### `python -m venv stripe_env`
   #### `.\stripe_env\Scripts\activate`
4. Выполняем установку и миграции:
   #### `pip install -r requirements.txt`
   #### `python manage.py migrate`
5. Подставляем свои API-ключи в mystripe/settings.py (STRIPE_PUBLIC_KEY, STRIPE_SECRET_KEY)
6. При необходимости создаем пользователя для входа в админ-панель:
   #### `python manage.py createsuperuser`
7. Запускаем сервер:
   #### `python manage.py runserver`

## Тестирование проекта.
#### Для быстрого тестирования запросов проекта достаточно открыть файл `tests.py` в приложении `app_payment` и запустить код. Данный тест выводит:
1. Результат GET-запроса к странице http://127.0.0.1:8000/item/1/ в виде HTML-кода.
2. Результат GET-запроса к странице http://127.0.0.1:8000/buy/2/ в формате JSON.

#### Для тестирования сессии Stripe необходимо:
1. Перейти по адресу:
    #### `http://127.0.0.1:8000/item/{id}/`
2. Нажать на кнопку `"Buy"` - после чего происходит запрос на `/buy/{id}/`, получение session_id и с помощью JS-библиотеки Stripe происходит редирект на Checkout форму Stripe.
3. После ввода данных карты и нажатия кнопки оплаты происходит редирект на страницу `http://127.0.0.1:8000/success/` и выводятся данные об успешной оплате. При отмене - редирект на `http://127.0.0.1:8000/cancel/`, где выводится сообщение об отмене транзакции.
 

### Страницы сервера:
#### http://127.0.0.1:8000/item/<<int:pk>>/
#### http://127.0.0.1:8000/buy/<<int:pk>>/
#### http://127.0.0.1:8000/admin/
